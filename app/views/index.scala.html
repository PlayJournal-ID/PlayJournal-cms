@(posts: models.extra.Page[Post])(implicit request: play.api.mvc.RequestHeader, flash: Flash)

@stylesheets = {
    <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/index.css")">
}

@main("Welcome to PlayJournal", stylesheets=stylesheets) {
	@if(flash.get("logoutSuccess").exists(_ => true)){
    	<div class="alert alert-info">
    		<strong>Log out Success.</strong> @flash.get("logoutSuccess")
    	</div>
    }
    
   	@if(flash.get("security").exists(_ => true)){
	   	<div class="alert alert-warning">
	   		<strong>Security warning:</strong> @flash.get("security")
	   	</div>
   	}
    
   	<div class="span8" id="post-list">
   		@if(posts.items.isEmpty) {
   		    <div class="mini-post">
   				No Post to show.
   			</div>
   		}
   		
   		@posts.items.map { post =>
   	    	@views.html.post.miniPost(post)
   		}
 
   		@views.html.helper.paginator(posts.prev.map { page => routes.Application.index(page).absoluteURL(false) }.getOrElse(""),
   					"Newer Posts",
   					posts.next.map { page => routes.Application.index(page).absoluteURL(false) }.getOrElse(""),
   					"Older Post")
   	</div>
}