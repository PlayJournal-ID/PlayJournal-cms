@(posts: Seq[models.Post])(implicit request: play.api.mvc.RequestHeader)

@import java.text.SimpleDateFormat

@main("Your Posts", "post.list") {
<h1>Your Posts <small>create, edit, and delete</small></h1>
    <table class="table table-bordered table-stripped">
		<thead>
			<tr>
				<th>Title</th>
				<th>Post Date</th>
				<th>Action</th>
			</tr>
		</thead>
		<tfoot>
			<tr>
				<td colspan="3" style="text-align: right;"><a href="@routes.Post.create"><button class="btn btn-success">New Post</button></a></td>
			</tr>
		</tfoot>
		<tbody>
		@if(posts.isEmpty){
		    <tr><td colspan="2" style="text-align: center;">You have no post yet. <a href="@routes.Post.create">Create a new post!</a></td></tr>
		}
    	@posts.map{ post =>
    	    <tr>
    			<td>@post.title</td>
    			<td>
    				@defining(new SimpleDateFormat("dd MMMM yyyy HH:mm")) { formatter =>
    				    @formatter.format(post.created)
    				}
    			</td>
    			<td>
    				<a href="@routes.Post.edit(post.id.get)" title="edit post"><i class="icon-edit"></i></a>
    				<a href="@routes.Post.show(post.id.get)" title="view post"><i class="icon-share-alt"></i></a>
    			</td>
    		</tr>
	    }
    	</tbody>
    </table>
}